# WAS와 웹 서버

WAS(Web Application Server)와 웹 서버는 웹 애플리케이션의 구성 요소로서 중요한 역할을 합니다. 각각의 기능과 차이를 이해하는 것은 서버 아키텍처 설계에 있어 핵심입니다.

---

## 1. 웹 서버 (Web Server)

### 정의
- HTTP 요청을 처리하고 정적인 콘텐츠(HTML, CSS, JavaScript, 이미지 등)를 클라이언트에 전달하는 서버.

### 주요 기능
1. **정적 콘텐츠 제공**:
   - 정적인 파일(HTML, CSS, JS 등)을 클라이언트로 전달.
2. **리버스 프록시**:
   - 클라이언트 요청을 WAS나 다른 백엔드 서버로 전달.
3. **로드 밸런싱**:
   - 여러 서버에 트래픽 분산.

### 주요 웹 서버 소프트웨어
- **Apache HTTP Server**: 오픈 소스, 유연한 모듈 지원.
- **NGINX**: 고성능 HTTP 서버, 리버스 프록시 및 로드 밸런싱 기능 제공.
- **Microsoft IIS**: Windows 서버용 웹 서버.

---

## 2. 웹 애플리케이션 서버 (WAS)

### 정의
- 동적인 콘텐츠를 생성하고 비즈니스 로직을 처리하는 서버.

### 주요 기능
1. **동적 콘텐츠 생성**:
   - 데이터베이스와 연동하여 사용자 요청에 따라 데이터를 생성하고 반환.
2. **비즈니스 로직 처리**:
   - 애플리케이션의 핵심 로직을 실행.
3. **세션 관리**:
   - 사용자 상태를 관리하고 세션 데이터를 유지.

### 주요 WAS 소프트웨어
- **Apache Tomcat**: Java 서블릿과 JSP를 지원하는 오픈 소스 WAS.
- **JBoss/WildFly**: Java EE를 지원하는 오픈 소스 애플리케이션 서버.
- **WebLogic**: Oracle의 상용 WAS.
- **WebSphere**: IBM의 상용 WAS.

---

## 3. 웹 서버와 WAS의 차이

| 항목            | 웹 서버                      | WAS                           |
|-----------------|-----------------------------|-------------------------------|
| **주요 역할**   | 정적 콘텐츠 제공            | 동적 콘텐츠 생성 및 로직 처리 |
| **처리 대상**   | HTML, CSS, JS 등 정적 파일  | 데이터베이스 연동, 비즈니스 로직 |
| **주요 프로토콜** | HTTP, HTTPS                 | HTTP, HTTPS                   |
| **예시 소프트웨어** | Apache, NGINX              | Tomcat, WebLogic              |

---

## 4. 웹 서버와 WAS의 연동

### 연동 방식
1. **리버스 프록시**:
   - 웹 서버가 프록시 역할을 하여 클라이언트 요청을 WAS로 전달.
2. **로드 밸런싱**:
   - 다수의 WAS에 트래픽을 분산.
3. **캐싱**:
   - 정적 콘텐츠를 웹 서버에서 캐싱하여 성능을 향상.

### 연동 구조
1. 클라이언트 → 웹 서버 → WAS → 데이터베이스
2. 웹 서버가 정적 요청 처리 후, 동적 요청은 WAS로 전달.

---

## 5. 실제 사례

1. **전자상거래 플랫폼**:
   - 웹 서버: 정적 파일(상품 이미지, HTML) 제공.
   - WAS: 구매 로직, 사용자 인증, 데이터베이스 조회 처리.

2. **스트리밍 서비스**:
   - 웹 서버: 비디오 파일 캐싱 및 전달.
   - WAS: 사용자 권한 확인 및 추천 알고리즘 처리.

---

## 6. 설계 시 고려 사항

1. **성능**:
   - 정적 콘텐츠는 웹 서버에서 처리하여 WAS의 부하를 줄임.
2. **보안**:
   - SSL 인증서는 웹 서버에서 처리하여 WAS 노출 최소화.
3. **확장성**:
   - 로드 밸런싱과 클러스터링으로 확장성 보장.